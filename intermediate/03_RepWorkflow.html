<!DOCTYPE html>
<html>
  <head>
    <title>Reproducible Workflow with rmarkdown</title>
    <meta charset="utf-8">
    <meta name="author" content="Tyson S. Barrett" />
    <link href="libs/remark-css/example.css" rel="stylesheet" />
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <script src="libs/jquery/jquery.min.js"></script>
    <script src="libs/datatables-binding/datatables.js"></script>
    <link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core/js/jquery.dataTables.min.js"></script>
    <script src="libs/jszip/jszip.min.js"></script>
    <script src="libs/pdfmake/pdfmake.min.js"></script>
    <script src="libs/pdfmake/vfs_fonts.js"></script>
    <link href="libs/dt-ext-buttons/css/buttons.dataTables.min.css" rel="stylesheet" />
    <script src="libs/dt-ext-buttons/js/dataTables.buttons.min.js"></script>
    <script src="libs/dt-ext-buttons/js/buttons.flash.min.js"></script>
    <script src="libs/dt-ext-buttons/js/buttons.html5.min.js"></script>
    <script src="libs/dt-ext-buttons/js/buttons.colVis.min.js"></script>
    <script src="libs/dt-ext-buttons/js/buttons.print.min.js"></script>
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Reproducible Workflow with <code>rmarkdown</code>
## ðŸ˜®
### Tyson S. Barrett

---




class: inverse

# Outline

--

## What is "reproducibility"?

--

## How can `rmarkdown` help?

--

## Integrating `rmarkdown` into your workflow

--

## The Ins-and-Outs of `rmarkdown` 

---

# References

Goodman, SN, Fanelli, D, Ioannidis, JPA. (2016). What does reproducibility really mean? Science Translational Medicine, 8(341), 1-6.


---
class: inverse, middle, center
# Reproducibility
---

# Reproducibility

<div id="htmlwidget-057ed697695c67dd6efd" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-057ed697695c67dd6efd">{"x":{"filter":"none","data":[["Methods","Results","Inferential"],["Same data and same methods","Independent data (same population) and same methods","Same or independent data and same methods"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Reproducibility<\/th>\n      <th>Definition<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"t","order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>

--

This class will focus on **Methods Reproducibility**.

--

"Methods reproducibility refers to the provision of enough detail about study procedures and data so the same procedures could, in theory or in actuality, be exactly repeated," (Goodman et al., 2016).


---

# Methods Reproducibility

"Methods reproducibility refers to the provision of enough detail about study procedures and data so the same procedures could, in theory or in actuality, be exactly repeated," (Goodman et al., 2016).

--

Requires

- A replicable workflow.
- Avoidance of input/output errors.
- Documentation, documentation, documentation.
- Transparent reporting.
- A single raw data set from which all analyses are done.
- Code (in this class, `R` code!) that works with the raw data.
- Others?


---

# Methods Reproducibility and Rmarkdown

- A replicable workflow.
- Avoidance of input/output errors.
- Documentation, documentation, documentation.
- Transparent reporting.
- A single raw data set from which all analyses are done.
- Code (in this class, `R` code!) that works with the raw data.
- Others?

--

### Each can be aided by `rmarkdown` and its associated packages.

--

### We will demonstrate most of these throughout this course, but especially while we discuss `rmarkdown`.

---

# Benefits of rmarkdown

1. Input (code) and output (tables/figures) are intimately tied---NO MANUAL (ERROR-PRONE) TABLES!

1. Document type is flexible and easy to adjust.

1. Updates to the analyses and output are straightfoward---no need to keep track of 50+ little things to change.

--

1. Provides quick reports that can be shared across many platforms (Word, Latex, PDF, HTML).

1. Makes transparent reporting easier---the actual steps of analysis are right next to the write up about the actual steps.

1. If we use version control (e.g. *Git*), the file system is much simpler.

--

1. It's cool.

---
class: inverse, middle, center
# Integrating rmarkdown into your workflow

---

# If:
  
  - You are reporting findings
  - The analyses are iterative (report and re-analyze, report and re-analyze...)
  - Working with individuals that understand some Latex or Markdown

### Use Rmarkdown for the writing and reporting!

--

### It'll probably stretch you a bit as a researcher -- but that is a good thing. ðŸ¤—

---

class: middle, center

# Get one started!

...


---
class: inverse, middle, center

# The Ins-and-Outs of rmarkdown

---
class: middle, center
# RStudio has a [great website](http://rmarkdown.rstudio.com/lesson-1.html) that we will use to understand rmarkdown better.

---
# Main Pieces of RMarkdown

### `YAML`
### Code Chunks
### Plain text
### Inline Code

---
# YAML

**You Awesome Mammal Life**

Tells R:

1. Title, author, date
1. Type of document
1. Other magic tricks

.footnote[This is how you create a publishable report. We'll come back to it.]

---
# Code Chunks

These are treated as R code -- nothing more, nothing less.

There are several options. Some important ones:

1. `echo`
1. `message`
1. `warning`
1. `results`
1. `fig.xxxx`
1. `eval`

---
# Plain Text

The text of the document. Use Markdown code here.

.pull-left[
### Equations

##### Inline

`$ Y = \frac{1}{2} * X$`

##### Centered

`$$  
Y = \frac{1}{2} * X  
`$$`
]

.pull-right[
### Lists

`1. item one`  
`2. item two`  

`- unordered item one`  
`- unordered item two`  

### Images

`![](path/to/image.png)`
]

---
# Inline Code

You can insert R code into the plain text.

If we wanted to state the mean and SD of a variable, we can use:

```r
`r mean(x)` 
`r sd(x)`
```
right in line with our plain text.

---
class: inverse, middle, center

# Some final notes

---
background-image: url("https://www.rstudio.com/images/docs/projects_new.png")
background-position: 50% 80%
background-size: 600px

# Easiest Way to Integrate RMarkdown --&gt; RStudio Projects!

---
class: inverse, middle, center

# More on YAML

---
class: inverse

# Pop Quiz Thing

---

# Do the Following

1. Open a new Rmarkdown file with a title, author, and date.
2. Set global rmarkdown options to `echo=TRUE`, `warning=FALSE`, `message=FALSE`
2. Output should be set to HTML.
3. Load the following data (you can download it by pressing the CSV button).
4. Print a summary table of the data (any summary that you'd like).
5. Knit the document.

<div id="htmlwidget-a959cfac8749fd080b9d" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-a959cfac8749fd080b9d">{"x":{"filter":"none","extensions":["Buttons"],"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],[0.922253234079108,0.954206512775272,0.456546811154112,0.290731703629717,0.280798864318058,0.522214530734345,0.320726557867602,0.139804996782914,0.509261419065297,0.0974586722441018,0.407178686698899,0.175867082783952,0.753647000296041,0.700259569566697,0.0246203020215034,0.752577615901828,0.559691787930205,0.342075964901596,0.058002274716273,0.0164662292227149,0.0577840369660407,0.746240422595292,0.0189877420198172,0.744773506885394,0.507644456811249,0.83332143491134,0.259182173525915,0.649489999283105,0.546932550845668,0.54618803691119,0.803381895413622,0.259264105232432,0.708377863746136,0.740334501024336,0.682185285724699,0.00450104544870555,0.22700697532855,0.421522210584953,0.715627869358286,0.940711026312783,0.792713094269857,0.485489995917305,0.830477329203859,0.302608205005527,0.176766111748293,0.603520007571205,0.783409929834306,0.92929895943962,0.597169707994908,0.618190384469926,0.213393392739818,0.982691864017397,0.321270126383752,0.723795005585998,0.228050713194534,0.312462081434205,0.653616848401725,0.437980198068544,0.440350871300325,0.33475734340027,0.853488655528054,0.845731915906072,0.715249534696341,0.272724795155227,0.173142300918698,0.286058611236513,0.188816782087088,0.670034810202196,0.26090398314409,0.398953385883942,0.602769157383591,0.229485947173089,0.198158147977665,0.688000162364915,0.510273751337081,0.150649807881564,0.143117690458894,0.914322718977928,0.474096393445507,0.879374620970339,0.609549590852112,0.701051402604207,0.487420888617635,0.17492212774232,0.419745135121047,0.410447457805276,0.374639262678102,0.136858619982377,0.0149227662477642,0.395954976323992,0.399479989660904,0.621398276649415,0.914668214740232,0.967283267294988,0.588823219761252,0.568560551619157,0.042269159341231,0.204840023536235,0.699138693278655,0.575264737475663],[0.653862710310882,0.655911001668266,-1.40886525874916,0.260512262441322,0.626078407889487,-1.05730331489127,-0.407266861614004,0.945935652852397,-1.00165453850046,1.33026694358806,0.403999979731712,-0.00412614701875218,0.752278685620151,0.926008742722417,0.257869960325261,0.365094728960949,0.133661358877958,0.48076797976724,-0.346892877960242,-1.17979393760548,0.216612966339028,-1.24049041389509,0.511864102427834,-0.0778780028968784,-0.206927356689664,-0.438000418288434,0.838075833119508,-1.19777607300947,-1.20938890262565,-0.965254600571753,0.0456037094068635,-0.102151367492347,0.000196854743269572,1.34788427503434,0.277444013716229,0.157151088158071,-0.0671113421281598,-0.151913638799169,2.03934489143667,-0.627064764732567,-0.0921484495492284,-1.71822927114704,-0.3628152078771,0.285721816245272,-1.00440328050632,-0.530116539440041,0.320532762084057,1.02445076864021,-0.020706746834305,-2.37879264750934,0.0257570968354309,-0.0736258277969465,-0.247090197073616,0.933195996254009,-0.774643506990541,-1.41522425163162,0.0152421125942171,0.437311558099632,0.569838938475751,0.428283025437129,0.0214776808343486,-0.010716784102839,1.00754491952424,-1.37649889858676,-0.0372346359809552,0.368656997316608,0.20474041151742,1.02922178476681,0.441165080503077,0.435443463148588,-1.65365003991292,-0.529024417918112,-0.51285041556967,-1.0861643379387,0.0974245240009193,-0.913167062954505,0.860553984535161,0.837800556317964,-0.589927139575607,-1.05736230765666,-0.478189172688974,1.42258735082908,-0.209492479900311,0.414477495925051,-0.83282667168523,-0.538963507174326,0.123621790435981,0.308518831158368,-0.526818818626574,-0.396219053228557,-0.457674429978377,-0.536088581631106,0.472399122286111,-2.13658218347858,-0.22954813246923,0.639737798820403,0.602899229941346,-1.51040314354454,-0.801010030078292,-1.96284152247012],[1,1,1,0,0,0,1,1,1,0,1,0,1,1,1,1,0,1,0,0,0,0,1,1,0,1,0,0,1,1,1,1,1,0,1,0,0,0,1,1,0,0,1,1,1,1,1,0,1,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,0,0,0,0,1,0,1,1,0,0,0,0,0,0,0,1,1,1,1,0,1,1,0,1],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>W<\/th>\n      <th>X<\/th>\n      <th>Y<\/th>\n      <th>id<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"Bfrtip","buttons":["copy","csv","excel","pdf","print"],"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {window.dispatchEvent(new Event('resize'));});
(function() {var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler"); if (!r) return; s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }"; d.head.appendChild(s);})();</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
  }
});
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
